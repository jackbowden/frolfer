<!doctype html>
<html lang="en" >
	<head>
		<meta charset="UTF-8">
		<title>Frolfer</title>
		<meta name="description" content="Explore the historic campus frisbee golf course at William & Mary ‚Äî Frolfer helps you navigate, score, and view hole information for the 18-hole course." />
		<!-- Open Graph / Facebook -->
		<meta property="og:title" content="Frolfer ‚Äî William & Mary Frisbee Golf Course" />
		<meta property="og:description" content="Explore the historic campus frisbee golf course at William & Mary. Track scores, get hole info, and view the course map with Frolfer." />
		<meta property="og:type" content="website" />
		<meta property="og:site_name" content="Frolfer" />
		<meta property="og:url" content="https://jackbowden.me/frolfer/" />
		<meta property="og:image" content="https://jackbowden.me/frolfer/img/1start.jpg" />
		<meta property="og:image:alt" content="Frolfer course start" />
		<!-- Twitter -->
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:title" content="Frolfer ‚Äî William & Mary Frisbee Golf Course" />
		<meta name="twitter:description" content="Explore the historic campus frisbee golf course at William & Mary. Track scores, get hole info, and view the course map with Frolfer." />
		<meta name="twitter:image" content="https://jackbowden.me/frolfer/img/1start.jpg" />
		<!-- <script src="https://unpkg.com/vue" defer></script> -->
		<script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
   integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
   crossorigin=""/>
		<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
   integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
   crossorigin=""></script>
		<script src="holeinfo.js" defer></script>
		<script src="coordinates.js" defer></script>
		<script src="script.js" defer></script>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<link rel="stylesheet" href="style.css">
	</head>
	<body>
		<div id="app">
			<!-- Start Page -->
			<div id="start-page" v-if="!gameStarted">
				<div id="start-content">
					<h1>Welcome to Frolfer</h1>
					<p class="intro-text">
						Explore the historic campus frisbee golf course at William & Mary! Frolfer is your ultimate companion for navigating and scoring on this classic 18-hole course. Track your scores, get hole information, and enjoy your round through one of the most beautiful college campuses in the country.
					</p>
					<div id="start-buttons">
						<button @click="showInstructions = true" class="start-btn">How to Play</button>
						<button @click="startGame" class="start-btn primary">Start Playing</button>
					</div>
				</div>
			</div>

			<!-- Leaderboard Modal -->
			<div id="leaderboard-modal" v-if="showLeaderboard" @click="showLeaderboard = false">
				<div class="modal-content" @click.stop>
					<div class="modal-header">
						<h2>üèÜ Course Records</h2>
						<button @click="showLeaderboard = false" class="close-btn">&times;</button>
					</div>
					<div class="modal-body">
						<div v-if="leaderboard.courseRecords.length > 0">
							<h3>üèÜ Best Course Totals</h3>
							<div class="record-list">
								<div v-for="(record, index) in leaderboard.courseRecords.slice(0, 5)" :key="index" class="record-item">
									<span class="rank">{{ index + 1 }}.</span>
									<span class="player-name">{{ record.player }}</span>
									<span class="score">{{ record.score }} throws</span>
									<span class="date">{{ record.date }}</span>
								</div>
							</div>
						</div>

						<div v-if="leaderboard.holeInOnes.length > 0">
							<h3>üéØ Hole-in-Ones</h3>
							<div class="record-list">
								<div v-for="(record, index) in leaderboard.holeInOnes.slice(0, 10)" :key="index" class="record-item">
									<span class="player-name">{{ record.player }}</span>
									<span class="hole-info">Hole {{ record.hole }}</span>
									<span class="date">{{ record.date }}</span>
								</div>
							</div>
						</div>

						<div>
							<h3>‚≠ê Best Hole Scores</h3>
							<div class="hole-records">
								<div v-for="(record, hole) in leaderboard.holeRecords" :key="hole" v-if="record" class="hole-record">
									<span class="hole-num">Hole {{ hole + 1 }}</span>
									<span class="player-name">{{ record.player }}</span>
									<span class="score">{{ record.score }}</span>
								</div>
							</div>
						</div>

						<div v-if="leaderboard.courseRecords.length === 0 && leaderboard.holeInOnes.length === 0">
							<p class="no-records">No records yet! Start playing to set some course records.</p>
						</div>
					</div>
				</div>
			</div>

			<!-- New Records Notification -->
			<div id="new-records" v-if="newRecords.length > 0">
				<div v-for="record in newRecords" class="new-record-item">
					{{ record }}
				</div>
			</div>

			<!-- Instructions Modal -->
			<div id="instructions-modal" v-if="showInstructions" @click="closeInstructions">
				<div class="modal-content" @click.stop>
					<div class="modal-header">
						<h2>How to Play</h2>
						<button @click="closeInstructions" class="close-btn">&times;</button>
					</div>
					<div class="modal-body">
						<h3>Getting Started</h3>
						<p>1. Add players by typing their names and clicking "Add"</p>
						<p>2. Navigate between holes using the arrow buttons</p>
						<p>3. Record scores using the + and - buttons for each player</p>
						
						<h3>Hole Information</h3>
						<p>Each hole shows you:</p>
						<ul>
							<li><strong>Target:</strong> What you're aiming for</li>
							<li><strong>Watch For:</strong> Important obstacles or features</li>
							<li><strong>Images:</strong> Start and finish positions</li>
							<li><strong>Map:</strong> Overall course layout</li>
						</ul>
						
						<h3>Scoring</h3>
						<p>Use the + and - buttons next to each player's name to adjust their score for the current hole. The total score is automatically calculated.</p>
					</div>
					<div class="modal-footer">
						<button @click="closeInstructions" class="start-btn primary">Got it!</button>
					</div>
				</div>
			</div>

			<!-- Game Page -->
			<div id="game-page" v-if="gameStarted">
				<div id="top-bar">
					<h1>Frolfer</h1>
					<div id="top-bar-controls">
						<button @click="toggleLeaderboard" class="how-to-play-btn">üèÜ</button>
						<button @click="showInstructions = true" class="how-to-play-btn">Help</button>
						<div id="hole-select">
							<p><button @click="decHole">&lt;</button> Hole {{ hole }} <button @click="incHole">&gt;</button></p>
						</div>
					</div>
				</div>
			<div id="content">
				<div id="scores">
					<h2>Scores</h2>
					<div class="score-row" v-for="player in players">
						<p><button @click="removePlayer(player)">x</button></p>
						<p class="player">{{ player.name }}</p>
						<p class="number">Total<br><strong>{{ total(player) }}</strong></p>
						<p class="number">Hole {{ hole }}<br><strong>{{ player.points[hole - 1] }}</strong></p>
						<p><button @click="incPoints(player, hole)">+</button></p>
						<p><button @click="decPoints(player, hole)">-</button></p>
					</div>
					<div id="add-player">
						<p><input type="text" v-model="name" v-on:keyup.enter="addPlayer(name)" placeholder="Add player..."></p>
						<p id="add-button"s><button @click="addPlayer(name)">Add</button></p>
					</div>
				</div>

				<div id="information">
					<div id="information-text">
						<h2>Hole {{ hole }}</h2>
						<hr>
						<p class="labeled-info"><span class="label">TARGET</span> {{ holeInfo[hole - 1].target }}</p>
						<p class="labeled-info"><span class="label">WATCH FOR</span> {{ holeInfo[hole-1].watchFor }}</p>
						<div id="info-text" v-html="holeInfo[hole - 1].info"></div>
					</div>
					<div id="location">
						<div id="toggle-view">
							<p :class="{ active: showImages }" @click="toggleImages">Images</p>
							<p :class="{ active: !showImages }" @click="toggleMap">Map</p>
						</div>
						<div id="images" v-show="showImages">
							<div class="images-half" id="start">
								<img :src="'img/' + hole + 'start.jpg'" alt="Start of the hole" :title="'Hole ' + hole + ' start'">
								<p class="image-label">Start</p>
							</div>
							<div class="images-half" id="finish">
								<img :src="'img/' + hole + 'end.jpg'" alt="'Hole ' + hole + ' end'">
								<p class="image-label">Finish</p>
							</div>
						</div>

						<div id="map" v-show="!showImages">
						</div>
					</div>
				</div>
			</div>
			<!-- End Game Page -->
		</div>

		<div id="footer">
			<p>by <a href="https://theycallmezeal.me">Adam</a> and <a href="https://jackbowden.me">Jack</a></p>
		</div>
	</body>

</html>
