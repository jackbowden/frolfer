<!doctype html>
<html lang="en" >
	<head>
		<meta charset="UTF-8">
		<title>Frolfer</title>
		<!-- <script src="https://unpkg.com/vue" defer></script> -->
		<script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
		<script src="holeinfo.js" defer></script>
		<script src="script.js" defer></script>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="style.css">
	</head>
	<body>
		<div id="app">
			<!-- Start Page -->
			<div id="start-page" v-if="!gameStarted">
				<div id="start-content">
					<h1>Welcome to Frolfer</h1>
					<p class="intro-text">
						Explore the historic campus frisbee golf course at William & Mary! Frolfer is your ultimate companion for navigating and scoring on this classic 18-hole course. Track your scores, get hole information, and enjoy your round through one of the most beautiful college campuses in the country.
					</p>
					<div id="start-buttons">
						<button @click="showInstructions = true" class="start-btn">How to Play</button>
						<button @click="startGame" class="start-btn primary">Start Playing</button>
					</div>
				</div>
			</div>

			<!-- Instructions Modal -->
			<div id="instructions-modal" v-if="showInstructions" @click="closeInstructions">
				<div class="modal-content" @click.stop>
					<div class="modal-header">
						<h2>How to Play</h2>
						<button @click="closeInstructions" class="close-btn">&times;</button>
					</div>
					<div class="modal-body">
						<h3>Getting Started</h3>
						<p>1. Add players by typing their names and clicking "Add"</p>
						<p>2. Navigate between holes using the arrow buttons</p>
						<p>3. Record scores using the + and - buttons for each player</p>
						
						<h3>Hole Information</h3>
						<p>Each hole shows you:</p>
						<ul>
							<li><strong>Target:</strong> What you're aiming for</li>
							<li><strong>Watch For:</strong> Important obstacles or features</li>
							<li><strong>Images:</strong> Start and finish positions</li>
							<li><strong>Map:</strong> Overall course layout</li>
						</ul>
						
						<h3>Scoring</h3>
						<p>Use the + and - buttons next to each player's name to adjust their score for the current hole. The total score is automatically calculated.</p>
					</div>
					<div class="modal-footer">
						<button @click="closeInstructions" class="start-btn primary">Got it!</button>
					</div>
				</div>
			</div>

			<!-- Game Page -->
			<div id="game-page" v-if="gameStarted">
				<div id="top-bar">
					<h1>Frolfer</h1>
					<div id="top-bar-controls">
						<button @click="showInstructions = true" class="how-to-play-btn">How to Play</button>
						<div id="hole-select">
							<p><button @click="decHole">&lt;</button> Hole {{ hole }} <button @click="incHole">&gt;</button></p>
						</div>
					</div>
				</div>
			<div id="content">
				<div id="scores">
					<h2>Scores</h2>
					<div class="score-row" v-for="player in players">
						<p><button @click="removePlayer(player)">x</button></p>
						<p class="player">{{ player.name }}</p>
						<p class="number">Total<br><strong>{{ total(player) }}</strong></p>
						<p class="number">Hole {{ hole }}<br><strong>{{ player.points[hole - 1] }}</strong></p>
						<p><button @click="incPoints(player, hole)">+</button></p>
						<p><button @click="decPoints(player, hole)">-</button></p>
					</div>
					<div id="add-player">
						<p><input type="text" v-model="name" v-on:keyup.enter="addPlayer(name)" placeholder="Add player..."></p>
						<p id="add-button"s><button @click="addPlayer(name)">Add</button></p>
					</div>
				</div>

				<div id="information">
					<div id="information-text">
						<h2>Hole {{ hole }}</h2>
						<hr>
						<p class="labeled-info"><span class="label">TARGET</span> {{ holeInfo[hole - 1].target }}</p>
						<p class="labeled-info"><span class="label">WATCH FOR</span> {{ holeInfo[hole-1].watchFor }}</p>
						<div id="info-text" v-html="holeInfo[hole - 1].info"></div>
					</div>
					<div id="location">
						<div id="toggle-view">
							<p :class="{ active: showImages }" @click="toggleImages">Images</p>
							<p :class="{ active: !showImages }" @click="toggleMap">Map</p>
						</div>
						<div id="images" v-show="showImages">
							<div class="images-half" id="start">
								<img :src="'img/' + hole + 'start.jpg'" alt="Start of the hole" :title="'Hole ' + hole + ' start'">
								<p class="image-label">Start</p>
							</div>
							<div class="images-half" id="finish">
								<img :src="'img/' + hole + 'end.jpg'" alt="'Hole ' + hole + ' end'">
								<p class="image-label">Finish</p>
							</div>
						</div>

						<div id="map" v-show="!showImages">
							<iframe src="https://www.google.com/maps/d/u/1/embed?mid=1sF2h2uMQ23XYcj7APuWTyjHhxIA" width="100%" height="480" title="Map of the hole location"></iframe>
						</div>
					</div>
				</div>
			</div>
			<!-- End Game Page -->
		</div>

		<div id="footer">
			<p>by <a href="https://theycallmezeal.me">Adam</a> and <a href="https://jackbowden.me">Jack</a></p>
		</div>
	</body>

</html>
